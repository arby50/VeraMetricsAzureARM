{
	"$schema": "https://schema.management.azure.com/schemas/2021-09-09/uiFormDefinition.schema.json",
	"view": {
		"kind": "Form",
		"properties": {
			"title": "Deploy VeraMetrics Engine",
			"steps": [
				{
					"name": "basics",
					"label": "Basics",
					"elements": [
						{
							"name": "resourceScope",
							"type": "Microsoft.Common.ResourceScope",
							"location": {
								"resourceTypes": [
									"microsoft.resources/resourcegroups"
								]
							}
						},
						{
							"name": "instanceName",
							"type": "Microsoft.Common.TextBox",
							"label": "Application Name",
							"defaultValue": "verametrics-001",
							"toolTip": "The unique name for this instance of the Managed Application.",
							"constraints": {
								"required": true,
								"regex": "^[a-z0-9][a-z0-9-]{1,22}[a-z0-9]$",
								"validationMessage": "Must be 3-24 characters, lowercase letters, numbers, and hyphens only."
							},
							"visible": true
						},
						{
							"name": "vmSize",
							"type": "Microsoft.Compute.SizeSelector",
							"label": "Virtual Machine Size",
  "toolTip": "",
  "recommendedSizes": [
								"Standard_D4s_v3",
								"Standard_D8s_v3",
								"Standard_E4s_v3",
								"Standard_E8s_v3"
							],
  "constraints": {
    "allowedSizes": []
  },
  "options": {
    "hideDiskTypeFilter": false
  },
  "osPlatform": "Windows",
  "imageReference": {
    "publisher": "MicrosoftWindowsServer",
    "offer": "WindowsServer",
    "sku": "2012-R2-Datacenter"
  },
  "scope": {
								"subscriptionId": "[steps('basics').resourceScope.subscription.id]",
								"location": "[steps('basics').resourceScope.location.name]"
							},
  "visible": true
},
						{
							"name": "subscriptionId",
							"type": "Microsoft.Common.TextBox",
							"label": "Subscription Id",
							"defaultValue": "MTM4YzFlN2UtYTc3YS00OWZjLWNhNjktNzVlOTI4M2MzMjZmOnZlcmFtZXRyaWNzX2VuZ2luZV9zYWFzX3BsYW46ZGQ2NmMyOGRlMDhlMmM3Ng==",
							"toolTip": "Pre-populated from query string if provided",
							"constraints": {
								"required": true
							},
							"visible": false
						}
					]
				}
			]
		},
		"outputs": {
			"parameters": {
				"instanceName": "[steps('basics').instanceName]",
				"vmSize": "[steps('basics').vmSize]",
				"subscriptionId": "[steps('basics').subscriptionId]"
			},
			"kind": "ResourceGroup",
			"location": "[steps('basics').resourceScope.location.name]",
			"resourceGroupId": "[steps('basics').resourceScope.resourceGroup.id]"
		}
	}
}